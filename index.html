<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Streaming Clone</title>
  <style>
    body { background:#141414; color:#fff; margin:0; font-family:Arial, sans-serif;}
    header { padding:20px; background:#000; display:flex; gap:20px;}
    header a { color:#fff; text-decoration:none; cursor:pointer;}
    .fila-container { margin:20px;}
    .fila-titulo { font-size:20px; margin-bottom:10px;}
    .fila { display:flex; gap:10px; overflow-x:auto;}
    .filme { position:relative; width:180px; flex-shrink:0; cursor:pointer;}
    .filme img { width:100%; border-radius:4px;}
    .filme-hover-overlay { 
      position:absolute; top:0; left:0; right:0; bottom:0; 
      background:rgba(0,0,0,0.7); 
      display:flex; flex-direction:column; justify-content:center; align-items:center; 
      opacity:0; transition:opacity 0.3s;
      border-radius:4px;
    }
    .filme:hover .filme-hover-overlay { opacity:1; }
    .filme-hover-overlay button { 
      margin:5px; padding:5px 10px; border:none; border-radius:4px; cursor:pointer;
    }
    .btn-play { background:#e50914; color:#fff;}
    .btn-trailer { background:#333; color:#fff;}
  </style>
</head>
<body>
  <header>
    <a onclick="mostrarSecao('inicio')">Início</a>
    <a onclick="mostrarSecao('filmes')">Filmes</a>
    <a onclick="mostrarSecao('series')">Séries</a>
    <a onclick="mostrarSecao('terror')">Terror</a>
    <a onclick="mostrarSecao('lista')">A Minha Lista</a>
  </header>
  <div id="root"></div>
  <script>
    let minhaLista = [];

    const filmes = [
      {titulo:"Filme Exemplo", img:"https://via.placeholder.com/180x270.png?text=Filme", link:"#", trailer:"#"}
    ];
    const series = [
      {titulo:"Morangos com Açúcar", img:"https://m.media-amazon.com/images/S/pv-target-images/ed2fde424fa4ab359c5a3d6aca7922c5ae84e6fd4fd3d20afd25747c0952f761.png", link:"#", trailer:"#"}
    ];
    const filmesTerror = [
      {titulo:"A Maldição", img:"https://via.placeholder.com/180x270.png?text=A+Maldi%C3%A7%C3%A3o", link:"#", trailer:"#"},
      {titulo:"Noite Sombria", img:"https://via.placeholder.com/180x270.png?text=Noite+Sombria", link:"#", trailer:"#"},
      {titulo:"O Retorno do Horror", img:"https://via.placeholder.com/180x270.png?text=O+Retorno+do+Horror", link:"#", trailer:"#"}
    ];

    function criarCard(item, inLista=false){
      const div=document.createElement('div'); 
      div.className='filme';
      const img=document.createElement('img'); 
      img.src=item.img; 
      div.appendChild(img);

      // Overlay hover
      const overlay=document.createElement('div'); 
      overlay.className='filme-hover-overlay';
      const btnPlay=document.createElement('button'); 
      btnPlay.textContent='▶ Assistir'; 
      btnPlay.className='btn-play';
      btnPlay.onclick=(e)=>{ e.stopPropagation(); window.open(item.link,'_blank'); };
      const btnTrailer=document.createElement('button'); 
      btnTrailer.textContent='▶ Trailer'; 
      btnTrailer.className='btn-trailer';
      btnTrailer.onclick=(e)=>{ e.stopPropagation(); if(item.trailer) window.open(item.trailer,'_blank'); };
      overlay.appendChild(btnPlay); 
      overlay.appendChild(btnTrailer);
      div.appendChild(overlay);

      // Se não estiver na lista, mostra botão de adicionar
      if(!inLista){
        const btnAdd=document.createElement('button');
        btnAdd.textContent='+ Minha Lista';
        btnAdd.style.cssText='margin-top:5px; background:#555; color:#fff; border:none; border-radius:4px; padding:4px 8px; cursor:pointer;';
        btnAdd.onclick=(e)=>{
          e.stopPropagation();
          if(!minhaLista.includes(item.titulo)){
            minhaLista.push(item.titulo);
            alert(item.titulo+' adicionado à Minha Lista!');
          }
        };
        overlay.appendChild(btnAdd);
      } else {
        // Botão remover (X) só aparece na Minha Lista
        const removeBtn=document.createElement('button');
        removeBtn.textContent='×';
        removeBtn.style.cssText=`
          position:absolute;
          top:5px;
          right:5px;
          background:rgba(229,9,20,0.9);
          border:none;
          color:#fff;
          font-size:18px;
          font-weight:bold;
          border-radius:50%;
          width:28px;
          height:28px;
          cursor:pointer;
          opacity:0;
          transition:opacity 0.2s;
          z-index:10;
        `;
        removeBtn.onclick=(e)=>{
          e.stopPropagation();
          minhaLista = minhaLista.filter(t=>t!==item.titulo);
          mostrarSecao('lista');
        };
        div.appendChild(removeBtn);
        // Mostrar só no hover
        div.onmouseover=()=>{ removeBtn.style.opacity=1; };
        div.onmouseout=()=>{ removeBtn.style.opacity=0; };
      }

      return div;
    }

    function criarFila(id, dados, tipo, inLista=false){
      const container=document.createElement('div'); 
      container.className='fila-container'; 
      container.id=id;
      const tituloDiv=document.createElement('div'); 
      tituloDiv.className='fila-titulo'; 
      tituloDiv.textContent = tipo==='filme'?"Filmes Populares":(tipo==='serie'?"Séries":"Filmes de Terror");
      container.appendChild(tituloDiv);
      const fila=document.createElement('div'); 
      fila.className='fila';
      dados.forEach(d=>{
        const card=criarCard(d, inLista);
        fila.appendChild(card);
      });
      container.appendChild(fila);
      return container;
    }

    function mostrarSecao(secao){
      const root=document.getElementById('root');
      root.innerHTML='';
      if(secao==='inicio'){
        root.appendChild(criarFila('fila1',filmes,'filme'));
        root.appendChild(criarFila('fila2',series,'serie'));
        root.appendChild(criarFila('fila3',filmesTerror,'filme'));
      } else if(secao==='filmes'){ 
        root.appendChild(criarFila('fila1',filmes,'filme')); 
      } else if(secao==='series'){ 
        root.appendChild(criarFila('fila2',series,'serie')); 
      } else if(secao==='terror'){ 
        root.appendChild(criarFila('fila3',filmesTerror,'filme')); 
      } else if(secao==='lista'){ 
        const listaContainer=document.createElement('div'); 
        listaContainer.className='fila-container'; 
        listaContainer.id='listaContainer';
        const tituloDiv=document.createElement('div'); 
        tituloDiv.className='fila-titulo'; 
        tituloDiv.textContent='Minha Lista';
        listaContainer.appendChild(tituloDiv);
        const filaDiv=document.createElement('div'); 
        filaDiv.className='fila';
        const todosItens=[...filmes,...series,...filmesTerror];
        minhaLista.forEach(titulo=>{
          const item=todosItens.find(i=>i.titulo===titulo);
          if(item){
            const card=criarCard(item,true);
            filaDiv.appendChild(card);
          }
        });
        listaContainer.appendChild(filaDiv);
        root.appendChild(listaContainer);
      }
    }

    mostrarSecao('inicio');
  </script>
</body>
</html>
